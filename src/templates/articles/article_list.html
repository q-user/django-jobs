{% extends 'base.html' %}
{% load static %}
{% load thumbnail %}
{% load urlparams %}

{% block extra_head %}
  <title>–í–∞–∫–∞–Ω—Å–∏–∏ –¥–ª—è Django –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–≤ | django_jobs_ru</title>
  <meta name="description"
        content="–í–∞–∫–∞–Ω—Å–∏–∏ –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è Django Framework. –†–∞–±–æ—Ç–∞ –Ω–∞ –ø–æ–ª–Ω—ã–π –¥–µ–Ω—å. –†–∞–±–æ—Ç–∞ –≤ –æ—Ñ–∏—Å–µ. –£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞. –ü–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å. –ß–∞—Å—Ç–∏—á–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å.">
{% endblock %}

{% block main %}
  {{ block.super }}

  <main role="main" class="container">
    <div class="row py-5">
      <div class="btn-group offset-2" role="group" aria-label="–§–∏–ª—å—Ç—Ä –ø–æ —è–∑—ã–∫—É">
        <a type="button"
           class="btn btn-secondary {% if active_lang == '' %}active{% endif %}"
           aria-label="–í—Å–µ —è–∑—ã–∫–∏"
           href="{% remove_query_params request 'language' %}">–í—Å–µ —è–∑—ã–∫–∏</a>
        <a type="button"
           class="btn btn-secondary {% if active_lang == 'ru' %}active{% endif %}"
           aria-label="–†—É—Å—Å–∫–∏–π"
           href="{% add_query_params request language='ru' %}">üá∑üá∫</a>
        <a type="button"
           class="btn btn-secondary {% if active_lang == 'en' %}active{% endif %}"
           aria-label="–ê–Ω–≥–ª–∏–π—Å–∫–∏–π"
           href="{% add_query_params request language='en' %}">üá¨üáß</a>
      </div>
    </div>

    {% for object in object_list %}
      <div class="row offset-md-2 d-flex">
        <div class="col-md-2 d-none d-md-block article-logo py-md-3">
          <div class="mb-4">
            <small class="article-date">{{ object.source_datetime|date:"d E" }}</small>
          </div>

          <div class="col-sm-2">
            {% if object.icon_url %}
              {% thumbnail object.icon_url "100" as im %}
                <a href="{% add_query_params request source=object.source.id %}">
                  <img class="img-fluid" src="{{ im.url }}">
                </a>
              {% endthumbnail %}
            {% elif object.source.icon %}
              {% thumbnail object.source.icon "100" as im %}
                <a href="{% add_query_params request source=object.source.id %}">
                  <img class="img-fluid" src="{{ im.url }}"></a>
              {% endthumbnail %}
            {% endif %}
          </div>
        </div>
        <div class="col-md-8 mr-auto py-3">
          <h1 class="article-header">
            <a target="_blank" href="{{ object.url }}">{{ object.title }}</a>
          </h1>
          <div class="article">{{ object.formated_article|safe }}</div>
        </div>
        <div class="col-md-10 py-4">
          <hr class="{{ css_hr_class }}">
        </div>
      </div>
    {% endfor %}
  </main>
{% endblock %}

{% block script %}
  {{ block.super }}
  <script src="{% static 'el-pagination/js/el-pagination.js' %}"></script>
{% endblock %}